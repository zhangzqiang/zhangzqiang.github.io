<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    
    <title>搭建React应用模板 | WHOOSH</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="React 起源于 Facebook 的内部项目，用来架设 Instagram 的网站，并于 2013 年 5 月开源。是一个用于构建用户界面的 JAVASCRIPT 库。拥有较高的性能，代码逻辑非常简单，越来越多的人已开始关注和使用它。">
<meta name="keywords" content="React,Web">
<meta property="og:type" content="article">
<meta property="og:title" content="搭建React应用模板">
<meta property="og:url" content="http://www.whoosh.site/2018/07/06/20180706_搭建React应用/index.html">
<meta property="og:site_name" content="WHOOSH">
<meta property="og:description" content="React 起源于 Facebook 的内部项目，用来架设 Instagram 的网站，并于 2013 年 5 月开源。是一个用于构建用户界面的 JAVASCRIPT 库。拥有较高的性能，代码逻辑非常简单，越来越多的人已开始关注和使用它。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://www.whoosh.site/images/react.png">
<meta property="og:updated_time" content="2018-07-06T12:00:06.611Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="搭建React应用模板">
<meta name="twitter:description" content="React 起源于 Facebook 的内部项目，用来架设 Instagram 的网站，并于 2013 年 5 月开源。是一个用于构建用户界面的 JAVASCRIPT 库。拥有较高的性能，代码逻辑非常简单，越来越多的人已开始关注和使用它。">
<meta name="twitter:image" content="http://www.whoosh.site/images/react.png">
    

    
        <link rel="alternate" href="http://blog.csdn.net/zhang_z_qiang" title="WHOOSH" type="application/atom+xml" />
    

    
        <link rel="icon" href="/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">WHOOSH</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">
                        主页
                    </a>
                    
                    <a class="main-nav-link" href="/archives">
                        归档
                    </a>
                    
                    <a class="main-nav-link" href="/categories">
                        分类
                    </a>
                    
                    <a class="main-nav-link" href="/tags">
                        标签
                    </a>
                    
                    <a class="main-nav-link" href="/about">
                        关于
                    </a>
                    
            </nav>
            
                
                    <nav id="sub-nav">
                        <div class="profile" id="profile-nav">
                            <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.jpg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                        </div>
                    </nav>
                    
                        <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td>
                        <a class="main-nav-link" href="/.">
                            主页
                        </a>
                    </td>
                    
                    <td>
                        <a class="main-nav-link" href="/archives">
                            归档
                        </a>
                    </td>
                    
                    <td>
                        <a class="main-nav-link" href="/categories">
                            分类
                        </a>
                    </td>
                    
                    <td>
                        <a class="main-nav-link" href="/tags">
                            标签
                        </a>
                    </td>
                    
                    <td>
                        <a class="main-nav-link" href="/about">
                            关于
                        </a>
                    </td>
                    
                        <td>
                            
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                        </td>
            </tr>
        </table>
    </div>
</header>
        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.jpg" />
            <h2 id="name">zhang_z_qiang</h2>
            <h3 id="title">Web &amp; .NET Developer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Shanghai, China</span>
            <a id="follow" target="_blank" href="https://github.com/zhangzqiang/">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                30
                <span>文章</span>
            </div>
            <div class="article-info-block">
                20
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/zhangzqiang/" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="wechat" class=tooltip>
                            <i class="fa fa-wechat"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://weibo.com/u/1816122347" target="_blank" title="weibo" class=tooltip>
                            <i class="fa fa-weibo"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://blog.csdn.net/zhang_z_qiang" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-20180706_搭建React应用" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
                    
                        <header class="article-header">
                            
    
        <h1 class="article-title" itemprop="name">
            搭建React应用模板
        </h1>
    

                                
                                    <div class="article-meta">
                                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/07/06/20180706_搭建React应用/">
            <time datetime="2018-07-06T11:53:58.000Z" itemprop="datePublished">2018-07-06</time>
        </a>
    </div>


                                            
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/前端技术/">前端技术</a>
    </div>

                                                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/React/">React</a>, <a class="tag-link" href="/tags/Web/">Web</a>
    </div>

                                    </div>
                                    
                        </header>
                        
                            
                                <div class="article-entry" itemprop="articleBody">
                                    
                                            
                                                    <h2 id="React-特点"><a href="#React-特点" class="headerlink" title="React 特点"></a>React 特点</h2><ol>
<li>声明式设计 − React采用声明范式，可以轻松描述应用。</li>
<li>高效 − React通过对DOM的模拟，最大限度地减少与DOM的交互。</li>
<li>灵活 − React可以与已知的库或框架很好地配合。</li>
<li>JSX − JSX 是 JavaScript 语法的扩展。React 开发不一定使用 JSX ，但我们建议使用它。</li>
<li>组件 − 通过 React 构建组件，使得代码更加容易得到复用，能够很好的应用在大项目的开发中。</li>
<li>单向响应的数据流（Redux） − 实现单向响应的数据流，从而减少了重复代码，这也是它为什么比传统数据绑定更简单。</li>
</ol>
<p>文中的hello-react项目可以在<a href="https://github.com/zhangzqiang/hello-react" target="_blank" rel="noopener">我的GitHub</a>上下载。</p>
<h2 id="创建一个项目"><a href="#创建一个项目" class="headerlink" title="创建一个项目"></a>创建一个项目</h2><p>在创建项目前需要安装<code>create-react-app</code>脚手架，以辅助初始化一个默认的React项目模版。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#全局安装create-react-app</span></span><br><span class="line">yarn add create-react-app -g</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建项目hello-react</span></span><br><span class="line"><span class="comment">#会自动安装 react, react-dom, and react-scripts等库</span></span><br><span class="line">create-react-app hello-react</span><br></pre></td></tr></table></figure>
<p>这样，一个最简单的React项目就搭建完成了。之后，就可以通过下面的命令来预览网站了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#进入项目目录</span></span><br><span class="line"><span class="built_in">cd</span> hello-react</span><br><span class="line"></span><br><span class="line"><span class="comment">#启动网站</span></span><br><span class="line">yarn start</span><br></pre></td></tr></table></figure>
<p>不出意外，您将看到下图的网站启动地址，而且会自动调起浏览器加载该网站。</p>
<p><img src="/images/20180706/yarn_start.png" alt="yarn start"></p>
<h2 id="使用UI框架"><a href="#使用UI框架" class="headerlink" title="使用UI框架"></a>使用UI框架</h2><p>由于<code>create-react-app</code>生成的是最简单的模版，为了屏蔽不必要的设计差异和实现成本，解放设计和前端的研发资源，我们这里使用了前端 UI 设计语言<a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener">ant design</a>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#添加antd依赖</span></span><br><span class="line">yarn add antd</span><br></pre></td></tr></table></figure>
<p>修改 src/App.js，引入 antd 的按钮组件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">···</span><br><span class="line"><span class="keyword">import</span> Button <span class="keyword">from</span> <span class="string">'antd/lib/button'</span>;</span><br><span class="line"></span><br><span class="line">···</span><br><span class="line">    &lt;Button type=<span class="string">"primary"</span>&gt;Button&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">···</span></span><br></pre></td></tr></table></figure>
<p>修改 src/App.css，在文件顶部引入 antd/dist/antd.css。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">'~antd/dist/antd.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.App</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>这个时候重新查看网站，发现页面里有了ant样式的按钮控件了。<br><img src="/images/20180706/react_antd.png" alt="react_antd"></p>
<h2 id="打包器Webpack"><a href="#打包器Webpack" class="headerlink" title="打包器Webpack"></a>打包器Webpack</h2><p>webpack 是一个现代 JavaScript 应用程序的静态模块打包器(module bundler)。当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle。</p>
<p>安装webpack webpack-cli</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-D|--dev 插件被写入到 devDependencies 对象里面去</span></span><br><span class="line"><span class="comment">#devDependencies 里面的插件只用于开发环境，不用于生产环境，而 dependencies 是需要发布到生产环境的。</span></span><br><span class="line">yarn add webpack webpack-cli -D</span><br></pre></td></tr></table></figure>
<p>在根目录下创建scripts目录，新建webpack.config.dev.js，并添加以下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span> (<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> environment = <span class="string">'development'</span>;</span><br><span class="line"></span><br><span class="line">process.env.BABEL_ENV = environment;</span><br><span class="line">process.env.NODE_ENV = environment;</span><br><span class="line"></span><br><span class="line"><span class="comment">//向外暴露一个配置对象，commonjs规范（因为webpack是基于node构建）</span></span><br><span class="line"><span class="comment">//在webpack4中有一大特性是约定大于配置，默认打包入口路径是'src/index.js'，打包输出路径是'dist/main.js'</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// entry:['./src/index.js'],</span></span><br><span class="line">  mode: environment, <span class="comment">//development|production ( 生产环境会将代码压缩 )</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">//配置文件输出路径</span></span><br><span class="line">    filename: <span class="string">'main.js?[hash]'</span>,</span><br><span class="line">    path: path.resolve (__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 指定第三方库目录，减少webpack寻找时间</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">      modules: [path.resolve(__dirname, <span class="string">'../node_modules'</span>)],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    <span class="comment">//webpack默认只能打包处理.js后缀的文件，像.jpg .vue等文件无法主动处理，所以需要配置第三方loader</span></span><br><span class="line">    rules: [</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>然后，修改<code>package.json</code>文件中<code>scripts</code>对象</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack --config scripts/webpack.config.dev.js",</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现在，不在需要<code>react-scripts</code>插件（通过对react-scripts分析，可以看到react-scripts实现了webpack和其他插件的封装），可以将它从项目中移除。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn remove react-scripts</span><br></pre></td></tr></table></figure>
<p>这个时候如果直接运行<code>yarn start</code>，则会报错，因为react使用jsx语法实现的，需要引入Babel库进行转码之后才能被浏览器识别和执行。</p>
<h2 id="使用Babel"><a href="#使用Babel" class="headerlink" title="使用Babel"></a>使用Babel</h2><p>安装<code>babel-core babel-runtime babel-loader babel-preset-es2015 babel-preset-react-app</code>解析js文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add babel-core babel-runtime babel-loader babel-preset-es2015 babel-preset-react-app -D</span><br></pre></td></tr></table></figure>
<p>在<code>webpack.config.dev.js</code>文件中添加以下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">···</span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      <span class="comment">// 解析js|jsx文件</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">        use: <span class="string">'babel-loader'</span>,</span><br><span class="line">        <span class="comment">// 在使用babel-loader时候一定要加上exclude,排除node_modules文件夹</span></span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="样式解析器"><a href="#样式解析器" class="headerlink" title="样式解析器"></a>样式解析器</h2><p>安装<code>css-loader less less-loader node-sass sass-loader</code>解析css文件，安装<code>mini-css-extract-plugin</code>插件独立打包css文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#可能出现无法下载node-sass问题，请使用淘宝镜像，并使用npm i node-sass -D尝试解决</span></span><br><span class="line">yarn add css-loader less less-loader node-sass sass-loader mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure>
<p>在<code>webpack.config.dev.js</code>文件中添加以下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span> (<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span> (<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个MiniCssExtractPlugin插件实例</span></span><br><span class="line"><span class="keyword">const</span> cssPlugin = <span class="keyword">new</span> MiniCssExtractPlugin (&#123;</span><br><span class="line">  filename: <span class="string">'index.css'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ···</span><br><span class="line">  plugins: [cssPlugin],</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">      rules: [</span><br><span class="line">          ···</span><br><span class="line">          <span class="comment">// 解析css文件</span></span><br><span class="line">          &#123;</span><br><span class="line">              test: <span class="regexp">/\.(css|less|sass|scss)$/</span>,</span><br><span class="line">              <span class="comment">// use从右往左写</span></span><br><span class="line">              use: [MiniCssExtractPlugin.loader, <span class="string">'css-loader'</span>,<span class="string">'less-loader'</span>,<span class="string">'sass-loader'</span>],</span><br><span class="line">          &#125;,</span><br><span class="line">          ···</span><br><span class="line">      ],</span><br><span class="line">  &#125;,</span><br><span class="line">···</span><br></pre></td></tr></table></figure>
<h2 id="资源文件"><a href="#资源文件" class="headerlink" title="资源文件"></a>资源文件</h2><p>安装<code>url-loader file-loader</code>解析图片文件，安装<code>html-webpack-plugin</code>插件自动根据模板生成html文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add url-loader file-loader html-webpack-plugin -D</span><br></pre></td></tr></table></figure>
<p>在<code>webpack.config.dev.js</code>文件中添加以下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span> (<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span> (<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span> (<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个HtmlWebpackPlugin插件实例</span></span><br><span class="line"><span class="keyword">const</span> htmlPlugin = <span class="keyword">new</span> HtmlWebpackPlugin (&#123;</span><br><span class="line">  title: <span class="string">'react-demo'</span>,</span><br><span class="line">  <span class="comment">//模板文件</span></span><br><span class="line">  template: path.join (__dirname, <span class="string">'../public/index.html'</span>),</span><br><span class="line">  <span class="comment">//生成文件名</span></span><br><span class="line">  filename: <span class="string">'index.html'</span>,</span><br><span class="line">  favicon: path.join (__dirname, <span class="string">'../public/favicon.ico'</span>),</span><br><span class="line">  minify: &#123;</span><br><span class="line">    <span class="comment">// 移除属性的引号</span></span><br><span class="line">    removeAttributeQuotes: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个MiniCssExtractPlugin插件实例</span></span><br><span class="line"><span class="keyword">const</span> cssPlugin = <span class="keyword">new</span> MiniCssExtractPlugin (&#123;</span><br><span class="line">  filename: <span class="string">'index.css'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ···</span><br><span class="line">  plugins: [htmlPlugin, cssPlugin],</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      <span class="comment">// 解析js|jsx文件</span></span><br><span class="line">      ···</span><br><span class="line">      <span class="comment">// 解析css文件</span></span><br><span class="line">      ···</span><br><span class="line">      <span class="comment">//解析图片文件</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(gif|png|jpg|woff|svg|ttf|eot)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'url-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              <span class="comment">//当图片小于这个值他会生成一个图片的url 如果是一个大于的他会生成一个base64的图片在js里展示</span></span><br><span class="line">              limit: <span class="number">1024</span>,</span><br><span class="line">              <span class="comment">//指定打包后的图片位置</span></span><br><span class="line">              outputPath: <span class="string">'images/'</span>,</span><br><span class="line">              name: <span class="string">'[name].[ext]?[hash]'</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="按需加载"><a href="#按需加载" class="headerlink" title="按需加载"></a>按需加载</h2><p>另外为了提高打包编译的速度和浏览器下载资源的速度，可以通过添加<code>babel-plugin-import</code>插件来只加载需要的组件，实现按需加载组件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#添加babel-plugin-import</span></span><br><span class="line">yarn add babel-plugin-import -D</span><br></pre></td></tr></table></figure>
<p>在项目的根目录下添加<code>.babelrc</code>文件，并添加以下内容</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"presets"</span>: [</span><br><span class="line">        <span class="string">"es2015"</span>,</span><br><span class="line">        <span class="string">"react-app"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"plugins"</span>: [</span><br><span class="line">        [</span><br><span class="line">            <span class="string">"import"</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"libraryName"</span>: <span class="string">"antd"</span>,</span><br><span class="line">                <span class="attr">"style"</span>: <span class="string">"css"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现在插件会帮你转换成 antd/lib/xxx 的写法了，同时因为设置了 style 属性，模块样式也可以按需自动加载，不需要再手动引入css或less文件了。</p>
<p><code>src/App.js</code>修改为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-   <span class="keyword">import</span> Button <span class="keyword">from</span> <span class="string">'antd/lib/button'</span>;</span><br><span class="line">+   <span class="keyword">import</span> &#123; Button &#125; <span class="keyword">from</span> <span class="string">'antd'</span>;</span><br></pre></td></tr></table></figure>
<p><code>src/App.css</code>移除antd.css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">-</span>   @<span class="keyword">import</span> <span class="string">'~antd/dist/antd.css'</span></span><br></pre></td></tr></table></figure>
<h2 id="热更新"><a href="#热更新" class="headerlink" title="热更新"></a>热更新</h2><p>虽然我们完成了打包，并且可以在浏览器中访问网站，但是每次重新构建之后需要手动刷新index.html，才能得到最新的效果，开发效率极低。但是，<code>webpack-dev-server</code>可以帮助我们解决这个问题，它是一个小型的静态文件服务器，为webpack打包的资源文件提供Web服务。并且提供自动刷新和<code>Hot Module Replacement</code>（模块热替换：前端代码变动后无需刷新整个页面，只把变化的部分替换掉）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#添加webpack-dev-server</span></span><br><span class="line">yarn add webpack-dev-server -D</span><br></pre></td></tr></table></figure>
<p>在<code>webpack.config.dev.js</code>文件中添加以下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">···</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    ···</span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">      <span class="comment">//自动打开默认浏览器</span></span><br><span class="line">      open: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">//如果省略，默认8080</span></span><br><span class="line">      port: <span class="number">3000</span>,</span><br><span class="line">      <span class="comment">//默认会以根文件夹提供本地服务器，这里指定文件夹</span></span><br><span class="line">      contentBase: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">      publicPath: <span class="string">"/"</span>,</span><br><span class="line">      historyApiFallback: &#123;</span><br><span class="line">          <span class="comment">// Paths with dots should still use the history fallback.</span></span><br><span class="line">          disableDotRule: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="代码检测工具"><a href="#代码检测工具" class="headerlink" title="代码检测工具"></a>代码检测工具</h2><p>ESLint最初是由<a href="http://nczonline.net/" target="_blank" rel="noopener">Nicholas C. Zakas</a>于2013年6月创建的开源项目。它的目标是提供一个插件化的javascript代码检测工具。</p>
<p>安装代码检测工具<code>eslint eslint-plugin-react eslint-config-react-app</code>，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add eslint eslint-plugin-react eslint-config-react-app  -D</span><br></pre></td></tr></table></figure>
<p>执行之后会提示缺少组件<code>babel-eslint eslint-plugin-flowtype eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-react</code>。。</p>
<p><img src="/images/20180706/react_eslint.png" alt="react_eslint"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装缺少的组件</span></span><br><span class="line">yarn add babel-eslint eslint-plugin-flowtype eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-react  -D</span><br></pre></td></tr></table></figure>
<p>之后在终端中运行<code>eslint --init</code>，进行eslint的简单配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --init</span><br></pre></td></tr></table></figure>
<p>如果在项目的根目录下添加<code>.eslintrc.js</code>文件，并添加以下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  parser: <span class="string">'babel-eslint'</span>,</span><br><span class="line">  env: &#123;</span><br><span class="line">    browser: <span class="literal">true</span>,</span><br><span class="line">    node: <span class="literal">true</span>,</span><br><span class="line">    es6: <span class="literal">true</span>,</span><br><span class="line">    jest: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [<span class="string">'react'</span>],</span><br><span class="line">  extends: [<span class="string">'plugin:react/recommended'</span>],</span><br><span class="line">  rules: &#123;</span><br><span class="line">    quotes: [<span class="number">1</span>, <span class="string">'single'</span>],</span><br><span class="line">    semi: [<span class="number">2</span>, <span class="string">'always'</span>],</span><br><span class="line">    <span class="string">'no-undef'</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="string">'no-param-reassign'</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">'no-constant-condition'</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">'no-unused-vars'</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">'no-console'</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">'no-use-before-define'</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">'no-trailing-spaces'</span>: [<span class="number">1</span>, &#123;<span class="attr">skipBlankLines</span>: <span class="literal">true</span>&#125;],</span><br><span class="line">    <span class="string">'linebreak-style'</span>: [<span class="number">2</span>, <span class="string">'unix'</span>],</span><br><span class="line">    <span class="string">'arrow-body-style'</span>: [<span class="number">2</span>, <span class="string">'as-needed'</span>],</span><br><span class="line">    <span class="string">'comma-dangle'</span>: [<span class="number">2</span>, <span class="string">'always-multiline'</span>],</span><br><span class="line">    <span class="string">'global-require'</span>: [<span class="number">1</span>],</span><br><span class="line">    <span class="string">'prefer-template'</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">'react/prop-types'</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">'react/jsx-first-prop-new-line'</span>: [<span class="number">2</span>, <span class="string">'multiline'</span>],</span><br><span class="line">    <span class="string">'react/jsx-filename-extension'</span>: [<span class="number">1</span>, &#123;<span class="attr">extensions</span>: [<span class="string">'.js'</span>]&#125;],</span><br><span class="line">  &#125;,</span><br><span class="line">  parserOptions: &#123;</span><br><span class="line">    ecmaVersion: <span class="number">6</span>,</span><br><span class="line">    sourceType: <span class="string">'module'</span>,</span><br><span class="line">    ecmaFeatures: &#123;</span><br><span class="line">      experimentalObjectRestSpread: <span class="literal">true</span>,</span><br><span class="line">      jsx: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  settings: &#123;</span><br><span class="line">    polyfills: [<span class="string">'fetch'</span>, <span class="string">'promises'</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="如何测试"><a href="#如何测试" class="headerlink" title="如何测试"></a>如何测试</h2><p>Jest是一个JavaScript测试框架，由Facebook用来测试所有JavaScript代码。包括不同级别的自动化测试：单元、集成、组件和功能。</p>
<p>安装<code>jest babel-jest</code>来进行自动化测试</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add jest jest-cli babel-jest -D</span><br></pre></td></tr></table></figure>
<p>在根目录下创建测试文件夹test，新建测试文件sum.spec.js，并添加以下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test (<span class="string">'adds 1 + 2 to equal 3'</span>, () =&gt; &#123;</span><br><span class="line">  expect(sum(<span class="number">1</span>, <span class="number">2</span>)).toBe(<span class="number">3</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>新建scripts/jest.config.js文件，并添加以下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span> (<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  rootDir: path.resolve (__dirname, <span class="string">'../'</span>),</span><br><span class="line">  <span class="comment">// 是否收集测试时的覆盖率信息</span></span><br><span class="line">  collectCoverage: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 哪些文件需要收集覆盖率信息</span></span><br><span class="line">  collectCoverageFrom: [<span class="string">'src/util/**/*.&#123;js,jsx,mjs&#125;'</span>],</span><br><span class="line">  <span class="comment">// 输出覆盖信息文件的目录</span></span><br><span class="line">  coverageDirectory: <span class="string">'&lt;rootDir&gt;/test/coverage'</span>,</span><br><span class="line">  <span class="comment">// 统计覆盖信息时需要忽略的文件</span></span><br><span class="line">  coveragePathIgnorePatterns: [<span class="string">'/node_modules/'</span>],</span><br><span class="line">  <span class="comment">// 主要用于与webpack的resolve.alias匹配，注意正则写法</span></span><br><span class="line">  moduleNameMapper: &#123;</span><br><span class="line">    <span class="string">'^src(.*)$'</span>: <span class="string">'&lt;rootDir&gt;/src$1'</span>,</span><br><span class="line">    <span class="string">'^util(.*)$'</span>: <span class="string">'&lt;rootDir&gt;/src/util$1'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 匹配的测试文件</span></span><br><span class="line">  testMatch: [<span class="string">'&lt;rootDir&gt;/test/*.&#123;js,jsx,mjs&#125;'</span>],</span><br><span class="line">  <span class="comment">// 运行环境下的url</span></span><br><span class="line">  testURL: <span class="string">'localhost:3000'</span>,</span><br><span class="line">  transform: &#123;</span><br><span class="line">    <span class="string">'^.+\\.(js|jsx|mjs)$'</span>: <span class="string">'&lt;rootDir&gt;/node_modules/babel-jest'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 转换时需要忽略的文件</span></span><br><span class="line">  transformIgnorePatterns: [<span class="string">'[/\\\\]node_modules[/\\\\].+\\.(js|jsx|mjs)$'</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>然后，修改<code>package.json</code>文件中<code>scripts</code>对象</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "test": "jest --config scripts/jest.config.js"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>之后，运行<code>yarn test</code>，便可看到测试结果。还有一种简单的方式，通过在VS Code中添加jest插件实现单元测试。</p>
<ol>
<li>在VS Code中添加jest插件</li>
<li>安装<code>**/__tests__/**/*.js?(x),**/?(*.)(spec|test).js?(x)</code>规则新建测试文件，例如<code>test/sum.spec.js</code>文件</li>
<li>编辑器会自动进行代码测试</li>
</ol>
<h2 id="如何调试"><a href="#如何调试" class="headerlink" title="如何调试"></a>如何调试</h2><p>在VS Code中添加<a href="https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-chrome" target="_blank" rel="noopener">Debugger for Chrome</a>插件</p>
<p>在.vscode/launch.json文件中添加以下内容，重启VS Code之后既可以正常使用调用功能了。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // 使用 IntelliSense 了解相关属性。 </span><br><span class="line">    // 悬停以查看现有属性的描述。</span><br><span class="line">    // 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    "version": "0.2.0",</span><br><span class="line">    "configurations": [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Chrome"</span>,</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"chrome"</span>,</span><br><span class="line">            <span class="attr">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"http://localhost:3000"</span>,</span><br><span class="line">            <span class="attr">"webRoot"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src"</span>,</span><br><span class="line">            <span class="attr">"userDataDir"</span>: <span class="string">"$&#123;workspaceRoot&#125;/.vscode/chrome"</span>,</span><br><span class="line">            <span class="attr">"sourceMapPathOverrides"</span>: &#123;</span><br><span class="line">                <span class="attr">"webpack:///src/*"</span>: <span class="string">"$&#123;webRoot&#125;/*"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>通过上述过程，我们搭建了一个react-app模版，这只是一个简单的模版，还有一些工作没有处理，例如数据容器redux、模拟数据mock，路由react-route等，会在接下来的文章中继续介绍。</p>

                                                        
                                </div>
                                <footer class="article-footer">
                                    <div style="float: left;"> 总阅读量<span id="busuanzi_value_page_pv"><i class="fa fa-spinner"></i></span>次 </div>
                                    <div class="share-container">



</div>

    <a data-url="http://www.whoosh.site/2018/07/06/20180706_搭建React应用/" data-id="cjj9xeqx90000y4v94ijhtsi9" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

                                    
    
        <a href="http://www.whoosh.site/2018/07/06/20180706_搭建React应用/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.whoosh.site/2018/07/06/20180706_搭建React应用/">评论</a>
    

                                </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2019/02/16/20190216_基于geoserver+mapbox的定制化离线地图技术方案-01开篇/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    基于geoserver+mapbox的定制化离线地图技术方案-01开篇
                
            </div>
        </a>
    
    
        <a href="/2018/07/04/20180704_搭建前端开发环境/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">搭建前端开发环境</div>
        </a>
    
</nav>


            
</article>


    
    
        <section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>
    

        
        </section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/02/24/20190224_基于geoserver+mapbox的定制化离线地图技术方案-02GIS基础知识/" class="thumbnail">
    
    
        <span style="background-image:url(/images/geoserver.png)" alt="基于geoserver+mapbox的定制化离线地图技术方案-02GIS基础知识" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/离线地图/">离线地图</a></p>
                            <p class="item-title"><a href="/2019/02/24/20190224_基于geoserver+mapbox的定制化离线地图技术方案-02GIS基础知识/" class="title">基于geoserver+mapbox的定制化离线地图技术方案-02GIS基础知识</a></p>
                            <p class="item-date"><time datetime="2019-02-24T14:53:58.000Z" itemprop="datePublished">2019-02-24</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/02/16/20190216_基于geoserver+mapbox的定制化离线地图技术方案-01开篇/" class="thumbnail">
    
    
        <span style="background-image:url(/images/geoserver.png)" alt="基于geoserver+mapbox的定制化离线地图技术方案-01开篇" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/离线地图/">离线地图</a></p>
                            <p class="item-title"><a href="/2019/02/16/20190216_基于geoserver+mapbox的定制化离线地图技术方案-01开篇/" class="title">基于geoserver+mapbox的定制化离线地图技术方案-01开篇</a></p>
                            <p class="item-date"><time datetime="2019-02-16T11:53:58.000Z" itemprop="datePublished">2019-02-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/06/20180706_搭建React应用/" class="thumbnail">
    
    
        <span style="background-image:url(/images/react.png)" alt="搭建React应用模板" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端技术/">前端技术</a></p>
                            <p class="item-title"><a href="/2018/07/06/20180706_搭建React应用/" class="title">搭建React应用模板</a></p>
                            <p class="item-date"><time datetime="2018-07-06T11:53:58.000Z" itemprop="datePublished">2018-07-06</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/04/20180704_搭建前端开发环境/" class="thumbnail">
    
    
        <span style="background-image:url(/images/vscode.png)" alt="搭建前端开发环境" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端技术/">前端技术</a></p>
                            <p class="item-title"><a href="/2018/07/04/20180704_搭建前端开发环境/" class="title">搭建前端开发环境</a></p>
                            <p class="item-date"><time datetime="2018-07-04T13:13:58.000Z" itemprop="datePublished">2018-07-04</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/01/20180701_前端UI设计语言评估与分析/" class="thumbnail">
    
    
        <span style="background-image:url(/images/antdesign.png)" alt="前端UI设计语言评估与分析" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端技术/">前端技术</a></p>
                            <p class="item-title"><a href="/2018/07/01/20180701_前端UI设计语言评估与分析/" class="title">前端UI设计语言评估与分析</a></p>
                            <p class="item-date"><time datetime="2018-07-01T09:13:58.000Z" itemprop="datePublished">2018-07-01</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Development-Language/">Development Language</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/">ReactNative</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/业务相关/">业务相关</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术/">前端技术</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/树莓派/">树莓派</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/浏览器/">浏览器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/游记/">游记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/离线地图/">离线地图</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/项目管理/">项目管理</a><span class="category-list-count">11</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/">Canvas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECharts/">ECharts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PDCharts/">PDCharts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PMBOK/">PMBOK</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PMP/">PMP</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PhantomJS/">PhantomJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactNative/">ReactNative</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Svg/">Svg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Win10-IoT/">Win10 IoT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/geoserver/">geoserver</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mapbox/">mapbox</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/osm/">osm</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/传感器/">传感器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/旅行/">旅行</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树莓派3/">树莓派3</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/管理类书籍/">管理类书籍</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Canvas/" style="font-size: 10px;">Canvas</a> <a href="/tags/ECharts/" style="font-size: 10px;">ECharts</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/PDCharts/" style="font-size: 10px;">PDCharts</a> <a href="/tags/PMBOK/" style="font-size: 20px;">PMBOK</a> <a href="/tags/PMP/" style="font-size: 20px;">PMP</a> <a href="/tags/PhantomJS/" style="font-size: 10px;">PhantomJS</a> <a href="/tags/React/" style="font-size: 16.67px;">React</a> <a href="/tags/ReactNative/" style="font-size: 16.67px;">ReactNative</a> <a href="/tags/Svg/" style="font-size: 10px;">Svg</a> <a href="/tags/Web/" style="font-size: 16.67px;">Web</a> <a href="/tags/Win10-IoT/" style="font-size: 10px;">Win10 IoT</a> <a href="/tags/geoserver/" style="font-size: 13.33px;">geoserver</a> <a href="/tags/mapbox/" style="font-size: 13.33px;">mapbox</a> <a href="/tags/osm/" style="font-size: 13.33px;">osm</a> <a href="/tags/传感器/" style="font-size: 10px;">传感器</a> <a href="/tags/旅行/" style="font-size: 10px;">旅行</a> <a href="/tags/树莓派3/" style="font-size: 13.33px;">树莓派3</a> <a href="/tags/管理类书籍/" style="font-size: 10px;">管理类书籍</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
                    <li>
                        <a href="https://github.com/zhangzqiang">Github</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2019 Zhengqaing Zhang<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a><br>
            总访问量<span id="busuanzi_value_site_pv"><i class="fa fa-spinner"></i></span>次 | 总访客数<span id="busuanzi_value_site_uv"><i class="fa fa-spinner"></i></span>人
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://www.whoosh.site/2018/07/06/20180706_搭建React应用/';
        
        this.page.identifier = '20180706_搭建React应用';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'www-whoosh-site' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>